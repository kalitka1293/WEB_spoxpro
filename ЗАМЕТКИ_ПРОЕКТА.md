# ЗАМЕТКИ ПО ПРОЕКТУ spoXpro

## ОБЩАЯ ИНФОРМАЦИЯ
- **Название проекта**: spoXpro
- **Тип**: Интернет-магазин спортивной одежды
- **Архитектура**: Backend (Go) + Frontend (React)
- **Статус**: В разработке (Backend частично готов, Frontend не начат)

## BACKEND (Go)

### Технологический стек:
- **Фреймворк**: Gin (v1.10.0)
- **База данных**: PostgreSQL + Redis
- **ORM**: GORM (v1.26.0)
- **Аутентификация**: JWT (golang-jwt/jwt/v5)
- **Документация**: Swagger
- **Логирование**: Logrus
- **Кеширование**: go-cache + Redis

### Структура проекта:
```
backend/
├── cmd/main.go              # Точка входа
├── internal/
│   ├── handlers/            # HTTP обработчики
│   │   ├── auth.go         # Аутентификация (готово)
│   │   └── base.go         # Базовые обработчики
│   ├── middleware/         # Промежуточное ПО
│   ├── models/             # Модели данных
│   │   ├── models.go       # Основные модели (готово)
│   │   └── swagger.go      # Swagger модели
│   ├── repository/         # Слой данных
│   │   ├── psql/          # PostgreSQL репозитории
│   │   └── redis/         # Redis репозитории
│   ├── routes/            # Маршрутизация
│   └── utils/             # Утилиты
├── docs/                  # Swagger документация
└── scripts/               # Скрипты
```

### Реализованные модели:
1. **User** - пользователи (готово)
2. **Product** - товары (готово)
3. **Category** - категории (готово)
4. **Order** - заказы (готово)
5. **OrderItem** - позиции заказов (готово)
6. **Review** - отзывы (готово)
7. **Collection** - коллекции (готово)
8. **ShopSettings** - настройки магазина (готово)

### Реализованные API endpoints:
- `POST /api/auth/login` - Авторизация
- `POST /api/auth/register` - Регистрация
- `GET /health` - Проверка состояния
- `GET /swagger/*` - Swagger документация

### Реализованные репозитории:
- **ProductRepository** - полный CRUD для товаров
- **UserRepository** - базовые операции с пользователями
- **CategoryRepository** - работа с категориями

## FRONTEND (React)

### Текущий статус:
- **Статус**: НЕ НАЧАТ
- **Файлы**: Только пустой index.html
- **Планируемый стек**: React (согласно README)

## КОНФИГУРАЦИЯ

### Отсутствующие файлы:
- `config.toml` - конфигурационный файл
- `package.json` - для frontend
- `.env` - переменные окружения
- `Dockerfile` - для контейнеризации

### Docker:
- Присутствует `docker-compose.yml`

## SWAGGER ДОКУМЕНТАЦИЯ
- Интегрирован Swagger
- Доступен по адресу: `http://localhost:8080/swagger/index.html`
- Генерация через скрипт: `./scripts/generate_swagger.sh`

## БЕЗОПАСНОСТЬ
- JWT токены для аутентификации
- Хеширование паролей (bcrypt через utils)
- Middleware для проверки токенов
- Redis для управления сессиями

## БАЗА ДАННЫХ
- PostgreSQL как основная БД
- Redis для кеширования и сессий
- GORM миграции
- UUID для первичных ключей товаров и заказов

## ЛОГИРОВАНИЕ
- Структурированное логирование через Logrus
- JSON формат логов
- Запись в файл app.log и stdout

## ОСНОВНЫЕ ЗАВИСИМОСТИ
```go
github.com/gin-gonic/gin v1.10.0
github.com/golang-jwt/jwt/v5 v5.2.2
gorm.io/gorm v1.26.0
gorm.io/driver/postgres v1.5.11
github.com/redis/go-redis/v9 v9.8.0
github.com/swaggo/gin-swagger v1.6.0
```
